=== *2.2.5 Machine Requirements*

==== Objective
The web server must support reliable and efficient operation of a React + JavaScript clothing discovery platform.  
To avoid ambiguity, all load-related terms (e.g., *simultaneous*, *average*, *peak*) are defined **before** the requirements.

These definitions are referenced throughout this section (see <<MR-Definitions>>), and the usage scenarios (see <<MR-Scenarios>>) include rationales for expected frequencies.

[[MR-Definitions]]
==== Load & Timing Definitions (Forward Reference)
To eliminate ambiguity, the following timing windows are used consistently:

* *Simultaneous Users*:  
Users who perform actions within the same **10-second activity window** (e.g., search, filter, view listing).

* *Average Concurrent Users*:  
Users active within a **1-minute operational window**, representing typical daytime traffic.

* *Peak Concurrent Users*:  
Users active within the same **10-second window** during high-demand periods (e.g., semester start, donation drives).

* *Response Time (Average)*:  
The mean latency over a **rolling 5-minute window** under typical load.

* *Response Time (Peak)*:  
The 95th-percentile latency during **peak concurrent user activity**.

* *Uptime Window*:  
Measured over a **calendar month**, consistent with industry operational standards.

These definitions are applied in all performance, reliability, and scalability requirements below.

---

==== Requirements

===== *Performance*
- The system shall return **search results within 2 seconds on average**, where “average” means the rolling 5-minute mean latency (see <<MR-Definitions>>).  
- Under peak load (**150 simultaneous users** within a 10-second window), the system shall maintain a maximum response time of **4 seconds** for 95% of requests.  
- The system shall support **200 simultaneous browsing users**, performing actions within a 10-second window.  
- Listing creation and updates (metadata + images) shall complete within **3 seconds on average**, excluding client-side compression.

===== *Reliability*
- The server shall maintain **99.7% uptime per calendar month**, allowing **≤ 2.1 hours** of unplanned downtime.  
- Core operations (create, edit, save, close listing) shall fail for **≤ 0.1%** of requests due to server errors.  
- Scheduled maintenance shall not exceed **3 hours/month** and must be announced **≥ 48 hours** in advance.

===== *Scalability*
- The system shall scale to **500 concurrent users** performing mixed actions while keeping average response time ≤ **3.5 seconds**.  
- The database shall support **50,000 active listings** with ≤ **20% increase** in baseline response time.  
- Architecture must allow **vertical and horizontal scaling** without major redesign.

---

[[MR-Scenarios]]
==== User Mix Scenarios (With Frequency Rationale)

These scenarios model the expected real-world activity distribution.  
Frequencies are based on observations from UPRM informal reselling groups, typical campus marketplace usage, and usage spikes during academic transitions.

1. *Scenario 1: Browsing Listings (≈ 60% of active users)*  
   *Rationale:* Most platform interaction is **searching, scrolling, filtering**, similar to Facebook Marketplace usage patterns.

2. *Scenario 2: Creating Listings (≈ 20%)*  
   *Rationale:* Listing creation is less frequent; students typically post items in small batches (closet cleanouts, moving periods).

3. *Scenario 3: Messaging / Contact Seller (≈ 15%)*  
   *Rationale:* Only a fraction of browsing leads to contact. Matches expected marketplace conversion rates (~10–20%).

4. *Scenario 4: Administrative or Moderation Tasks (≈ 5%)*  
   *Rationale:* Admin/moderator actions occur sporadically, typically only during reported issues or verification checks.

These percentages are used to model load distribution during performance testing and to validate server capabilities under normal and peak conditions.

---

==== Justification
Defining timing windows and usage frequencies explicitly ensures that “simultaneous,” “peak,” and “average” conditions become **testable, measurable, and reproducible**.  
Forward references (<<MR-Definitions>>, <<MR-Scenarios>>) help reviewers locate definitions quickly and avoid ambiguity.

This structure aligns the platform with operational standards used in lightweight marketplaces such as OfferUp, Depop, and Facebook Marketplace—especially during high-demand periods (semester start, back-to-school, donation drives).

