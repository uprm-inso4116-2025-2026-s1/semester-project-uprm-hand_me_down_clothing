=== *2.2.5 — Machine Requirements*

==== Objective
The system shall operate reliably and efficiently as a web-based clothing discovery platform built with React and JavaScript.  
Machine Requirements define measurable performance, reliability, and scalability goals to ensure that users can create, browse, filter, and save listings consistently.  
The platform does not manage payments or handle transactional workflows; all exchanges occur offline after contact has been initiated.

To avoid ambiguity, this section explicitly defines terms such as *simultaneous users*, *average load*, *peak load*, and *uptime window*.  
These definitions appear in the Clarifications and Load Definitions subsections.

---

== *Requirements*

=== Performance
- The system shall return **search results within 2 seconds on average**, where “average” refers to the mean response time over a **5-minute rolling window** under normal operating conditions.  
- Under **peak load**, defined as **150 concurrent active users** within a **10-second window**, the system shall maintain a maximum response time of **4 seconds**.  
- The system shall support **200 simultaneous browsing users**, where “simultaneous” denotes users interacting within the same **10-second activity window** (e.g., filtering, searching, saving listings, viewing details).  
- Listing creation and listing updates (including metadata changes) shall complete within **3 seconds on average**, excluding client-side image compression delays.

---

=== Reliability
- The system shall maintain an uptime of **99.7% per calendar month**, allowing no more than **2.1 hours** of unscheduled downtime.  
- Core operations — including listing creation, editing, saving, and closing (sold/donated/retracted) — shall fail due to server error in **no more than 0.1%** of requests.  
- Scheduled maintenance windows shall not exceed **3 hours per month** and shall be announced at least **48 hours** in advance.

---

=== Scalability
- The system shall scale to support **500 concurrent users** performing mixed actions (browsing, searching, creating listings, saving favorites, sending messages) while maintaining average response times ≤ **3.5 seconds**.  
- The platform shall handle up to **50,000 active listings** without more than a **20% increase** in response time relative to baseline performance.  
- The architecture shall support both **vertical scaling** (increasing compute resources) and **horizontal scaling** (adding server instances) without substantial redesign.

---

== Clarifications [[MR-Clarifications]]
- *Peak Load:* **≥ 150** concurrent active users interacting within the same **10-second window**, with at least **10%** performing listing creation or updates.  
- *Average Load:* Approx. **200 concurrent users** active within a **1-minute window**, representing typical daytime usage.  
- *Minimal Outages:* No more than **2.1 hours** of unplanned downtime per month.  
- *Acceptable Performance:* **≤ 3.5 seconds** response time for **95% of requests**, measured over a rolling daily interval.

These definitions apply across all subsequent subsections and performance measurements.

---

== Areas for Refinement
- Stress tolerance for **extreme traffic spikes** (e.g., ≥ 1000 simultaneous users during semester openings or large community donation drives) remains under evaluation.  
- Additional benchmarking is required to assess performance on **mobile devices with weak or unstable network conditions**.  
- Concurrent image upload behavior and caching strategies shall undergo further load testing to validate performance during peak periods.

---

== Justification
Reliable machine performance is essential to support discovery-centric workflows and maintain user trust.  
Clear definitions of “simultaneous,” “average,” “peak,” and “uptime window” ensure testability and enable consistent evaluation across deployment environments.  
These metrics align with comparable lightweight listing platforms (e.g., Facebook Marketplace, OfferUp) and are tailored to expected demand patterns at UPRM, particularly at semester transitions and community donation events.

---

== Load Definitions
- *Peak Concurrent Users:* 500 users performing actions within the same **10-second** interval.  
- *Average Concurrent Users:* 200 users active within a **1-minute** interval.  
- *Light Load:* Fewer than 80 active users interacting within a **1-minute** interval.

These definitions structure load-testing scenarios and clarify operational expectations.

---

== User Mix Scenarios
These scenarios help evaluate how mixed user traffic impacts performance and machine behavior.

1. *Scenario 1: Browsing Listings*  
   - 60% of users browsing or filtering listings.

2. *Scenario 2: Creating Listings*  
   - 20% of users uploading images, entering item details, or publishing new listings.

3. *Scenario 3: Messaging*  
   - 15% of users participating in buyer–seller message threads.

4. *Scenario 4: Administrative Actions*  
   - 5% of users performing moderation, flag review, or dispute resolution tasks.
