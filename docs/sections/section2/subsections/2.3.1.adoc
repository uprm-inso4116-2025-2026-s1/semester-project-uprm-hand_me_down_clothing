=== 2.3.1 Selected Fragments of the Implementation

This section provides selected implementation fragments that complement the architectural
description in Section 2.3. To satisfy Milestone 3 requirements, fragments are divided into:

1. **Implemented Fragments** – Functionality already built and connected to Supabase.
2. **Planned — Not Yet Implemented Fragments** – Architectural prototypes illustrating
   intended domain mappings, not functional code.

Screenshots appear **only** where they clarify domain flows, state transitions, or architectural
decisions. They are *not* used as a user manual.

'''

=== **Implemented Fragments**

==== Home Page (Implemented UI Fragment)
image::HomePage.png[Home Page (Implemented Fragment), align=center, pdfwidth=80%]

*Caption:*  
*Included because it shows the implemented data-binding architecture: the Home Page retrieves
active listings from Supabase and renders them in React state. This illustrates how UI
components consume application-level services such as `browseAvailableItems`.*

The implemented Home Page:
- fetches active listings from Supabase,  
- renders them in an infinite/scrollable feed,  
- links to other implemented features (upload page, browse view).  

This fragment demonstrates the separation between UI rendering, application-service calls,
and Supabase queries.

'''

==== Clothing Listing Page (Implemented UI Fragment)
image::ListingsPage.png[Listings Page (Implemented Fragment), align=center, pdfwidth=80%]

*Caption:*  
*Included because it illustrates the implemented end-to-end flow from Supabase data
retrieval → React rendering → filter/sorting logic. This fragment validates the correctness of
the listing-retrieval architecture.*

This implemented component:
- loads available listings through Supabase queries,  
- displays essential listing metadata (title, main image, free/resale marker),  
- supports client-side sorting and basic filtering (category, free/price).  

Advanced filter-composition (Filter VO + Specification Pattern) is **planned**, but basic filtering
shown here is **implemented**.

'''

==== Item Upload Flow — Implemented Logic
image::HandMeDown_ItemUpload.png[Item Upload Flow (Implemented Logic), align=center]

*Caption:*  
*Included because it visualizes the implemented control flow: client-side validation →
Supabase Storage upload → listing insertion. This supports the domain function
`publishListing` and documents the actual data movement across layers.*

Implemented steps:
1. Authenticated user opens the creation form.  
2. Required fields validated using CQS validators.  
3. Images uploaded to Supabase Storage.  
4. Listing inserted into Supabase with `status = active`.  

This flow enforces domain invariants but intentionally performs **no transaction or payment logic**.

'''

=== **Planned — Not Yet Implemented Fragments**

*(These prototypes illustrate the intended architectural integration of domain concepts.
They are not implemented and contain no production logic.)*

==== Item Detail Page (Planned UI Fragment)
image::IndividualListing.png[Planned Item Detail Page, align=center, pdfwidth=80%]

*Caption:*  
*This prototype shows how multiple domain objects (Listing, Seller, Review summary) will be
aggregated into a single detail view. It is included solely to illustrate architectural fit for planned
use cases such as `expressInterest` and `review`.*

Planned integrations:
- listing metadata display,  
- seller information panel,  
- interest/contact actions linked to `InterestExpressed`,  
- review summary once review logic is implemented.  

No backend logic exists yet.

'''

==== Map Page (Planned UI Fragment)
image::Map1.png[Map Prototype 1, align=center]
image::Map2.png[Map Prototype 2, align=center]
image::Map3.png[Map Prototype 3, align=center]

*Caption:*  
*These prototypes illustrate the architectural role of the Map feature: React → Leaflet →
donation-center data from Supabase. ESRI imagery tiles provide basemap layers; metadata
overlays are not implemented. These fragments exist strictly for architectural documentation.*

The planned Map architecture includes:
- Leaflet for geospatial rendering,  
- donation-center locations retrieved from Supabase,  
- optional geocoding + alternate routing strategies (planned).  

No advanced metadata overlays or enhanced routing providers exist yet.

'''

=== Summary

This section now:
- clearly distinguishes between **Implemented** and **Planned** fragments,
- uses screenshots solely for architectural justification,
- removes any user-manual language,
- accurately reflects what the current system supports versus what remains planned for future milestones.

This aligns fully with Milestone 3 expectations and professor feedback.
