// --
// Authentication Flows: Password Reset & Email Verification
// --

= Authentication Flows (Supabase)

== Overview
This document describes how password reset and email verification are implemented in the Hand-Me-Down Clothing platform using Supabase Auth.

== Password Reset Workflow
- Users request a password reset from the login page.
- Supabase sends a password reset email with a magic link.
- After clicking the link, users are directed to a form to set a new password.
- Backend logic: see `source_code/app/auth/auth.ts` (`requestPasswordReset`, `updatePassword`).

== Email Verification Workflow
- New users receive a verification email after sign-up.
- Email verification is automatic via Supabase magic links.
- Verification status can be checked with `getUser()` and inspecting `user.email_confirmed_at`.

== Security Notes
- Supabase handles token expiration and rate limiting for all flows.
- Success and error messages are shown in the UI for clarity.
- All sensitive actions require valid email links and secure forms.

== Implementation Reference
- See `source_code/app/auth/auth.ts` for backend functions.
- Extend React forms/pages in `source_code/app/auth/` for user interaction.

== Next Steps
- Update this document as workflows evolve or new security features are added.
